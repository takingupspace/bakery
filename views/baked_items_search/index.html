<!DOCTYPE HTML>
<!--
	Astral by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Millsbury's Dough Girl's Baked Goods</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="assets/css/alignments.css" />
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper-->
			<div id="wrapper">

				<!-- Nav -->
					<nav id="nav">
						<a href="#" class="icon solid fa-home"><span>Home</span></a>
						<a href="#work" class="icon solid fa-folder"><span>Work</span></a>
						<a href="#contact" class="icon solid fa-envelope"><span>Contact</span></a>
						<a href="https://twitter.com/ajlkn" class="icon brands fa-twitter"><span>Twitter</span></a>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Me -->
							<article id="home" class="panel intro">
								<header>
									<h1>Baked Goods Search</h1>
									<p>Click the arrow to the left, to navigate to the category search filter</p>
								</header>
								<a href="#work" class="jumplink pic">
									<span class="arrow icon solid fa-chevron-right"><span>See my work</span></span>
									<img src="images/me.jpg" alt="" />
								</a>
							</article>

						<!-- Work -->
							<article id="work" class="panel">
								<header>
									<h2>Work</h2>
									<form action="localhost:3001/showCategory" id="bakedCategory">
									<select id="bakedCategoryID" name='bakedCategorySelect' form='bakedCategory'>
										<option value="">Select a Category</option>
										<option value="1">Engagements</option>
										<option value="2">Birthdays</option>
										<option value="3">Cakes</option>
									</select>
									<input type="submit" id='showBakedGoods' value="Apply Filter" />
								</form>
									<!-- <script type="text/javascript">
										function GetSelectedTextValue() {
											var bakedItemCategory = document.getElementById("bakedCategoryID");
											var selectedText = bakedItemCategory.options[bakedItemCategory.selectedIndex].innerHTML;
											var selectedValue = bakedItemCategory.value;
											alert('You selected ' + selectedText + "!");
										}
									</script> -->
								</header>
								<section>
									<script>
										$("#bakedCategory").submit(function(event){
											// var bakedItemCategory = document.getElementById("bakedCategoryID");
											// var selectedText = bakedItemCategory.options[bakedItemCategory.selectedIndex].innerHTML;
											// var selectedValue = bakedItemCategory.value;
											// alert('selected value is ', bakedItemCategory)
											event.preventDefault();
											var $form = $(this),
											// selectedValue = $form.find('input[name="bakedCategorySelect"]').val(),
											bakedItemCategory = document.getElementById("bakedCategoryID"),
											selectedText = bakedItemCategory.options[bakedItemCategory.selectedIndex].innerHTML,
											selectedValue = bakedItemCategory.value,
											url = $form.attr("action")

											alert(selectedText)
											alert(url)
											
											var posting = $.post('localhost:3001/showCategory', {
											category : 'Cakes',
										});

											posting.done(function(bakedGood){
												var col = [];
												for (var i = 0; i < bakedGood.length; i++) {
													for (var key in bakedGood[i]) {
														if (col.indexOf(key) === -1) {
															console.log(key);
															col.push(key);
														}
													}
												}

												for(i = 0; i < bakedGood.length; i++){
												var parentDiv = document.getElementById('showData')
												var newDiv = document.createElement('div');
												newDiv.id = "newDiv" + i;
												parentDiv.appendChild(newDiv);

												newTitle = document.createElement('p');
												var text = document.createTextNode(bakedGood[i].item_name);
												newTitle.appendChild(text);
												document.getElementById(newDiv.id).appendChild(newTitle);

												var img = new Image();
												img.src = (bakedGood[i].img_url);
												img.height = 100;
												img.width = 100;
												document.getElementById(newDiv.id).appendChild(img);

												newDescription = document.createElement('p');
												var descText = document.createTextNode(bakedGood[i].description);
												newDescription.appendChild(descText);
												document.getElementById(newDiv.id).appendChild(newDescription);
												}
											})

										})
									</script>
									<!-- <script>
										$("#showBakedGoods").on("click", function(e) {
					e.preventDefault();
					$.ajax({type: "POST",
						url: "http://localhost:3001/showCategory",
						category : selectedValue,
						success:function(bakedGood) {
							var col = [];
						for (var i = 0; i < bakedGood.length; i++) {
							for (var key in bakedGood[i]) {
								if (col.indexOf(key) === -1) {
									console.log(key);
									col.push(key);
								}
							}
						}

						for(i = 0; i < bakedGood.length; i++){
						var parentDiv = document.getElementById('showData')
						var newDiv = document.createElement('div');
						newDiv.id = "newDiv" + i;
						parentDiv.appendChild(newDiv);

						newTitle = document.createElement('p');
						var text = document.createTextNode(bakedGood[i].item_name);
						newTitle.appendChild(text);
						document.getElementById(newDiv.id).appendChild(newTitle);

						var img = new Image();
						img.src = (bakedGood[i].img_url);
						img.height = 100;
						img.width = 100;
						document.getElementById(newDiv.id).appendChild(img);

						newDescription = document.createElement('p');
						var descText = document.createTextNode(bakedGood[i].description);
						newDescription.appendChild(descText);
						document.getElementById(newDiv.id).appendChild(newDescription);
						}
						},
						error:function(result) {
						  alert('error');
						}
					});
				});
									</script> -->
									<div class="row" id='showData'>
										<!--<div class="col-4 col-6-medium col-12-small" id='showData'>
										</div>-->
										<!--<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic02.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic03.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic04.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic05.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic06.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic07.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic08.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic09.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic10.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic11.jpg" alt=""></a>
										</div>
										<div class="col-4 col-6-medium col-12-small">
											<a href="#" class="image fit"><img src="images/pic12.jpg" alt=""></a>
										</div>-->
									</div>
								</section>
							</article>

						<!-- Contact -->
							<article id="contact" class="panel">
								<header>
									<h2>Contact Me</h2>
								</header>
								<form action="#" method="post">
									<div>
										<div class="row">
											<div class="col-6 col-12-medium">
												<input type="text" name="name" placeholder="Name" />
											</div>
											<div class="col-6 col-12-medium">
												<input type="text" name="email" placeholder="Email" />
											</div>
											<div class="col-12">
												<input type="text" name="subject" placeholder="Subject" />
											</div>
											<div class="col-12">
												<textarea name="message" placeholder="Message" rows="6"></textarea>
											</div>
											<div class="col-12">
												<input type="submit" value="Send Message" />
											</div>
										</div>
									</div>
								</form>
							</article>

					</div>

				<!-- Footer -->
					<div id="footer">
						<ul class="copyright">
							<li>&copy; Untitled.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>